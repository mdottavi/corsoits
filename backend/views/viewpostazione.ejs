
<html><head><title>Esempio di View con EJS</title>
  <script>
  function edit(id) {
    return fetch('/postazione/'+id, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ "luogo": document.getElementById("luogo").value , "data_ora" :document.getElementById("data_ora").value })
    });
  } 
  function crea() {
    return fetch('/postazione/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ "luogo": document.getElementById("luogo").value , "data_ora" :document.getElementById("data_ora").value })
    });
  }
  
</script>
</head>
 <% if ( luogo == "" ) { NomeView="Creazione"; FunzionedaChiamare="crea()"; } else { NomeView="Visualizzazione";  FunzionedaChiamare="edit('" + id + "')";} %> 
<body><h1><%- NomeView %> di Prenotazione</h1>
  <table>
    <tr><td>Luogo</td><td><input readonly type="text" name='luogo' id ='luogo' value="<%= luogo %>"></input ></td></tr>
    <tr><td>Data e ora</td><td><input readonly type="text" name='data_ora'  id ='data_ora' value="<%= data_ora %>"></input ></td></tr>
    <tr><td>Nome</td><td><input readonly type="text" id="nome" name='nome' value="<%= nome %>"></input ></td></tr>
    <tr><td>Cognome</td><td><input readonly type="text" id="cognome" name='cognome' value="<%= cognome %>"></input ></td></tr>
    <tr><td>Codice Fiscale</td><td><input  readonlytype="text" id="CF" name='CF' value="<%=CodFis %>"></input ></td></tr>
    <tr><td>Data Nascita</td><td><input readonly type="text" id="date" name='date' value="<%=date %>"></input ></td></tr>
    <tr><td>Tessera Sanitaria</td><td><img src="/<%=TS %>"></input ></td></tr>
<!--    <tr><td><button type="submit" value='Salva' onclick="<%- FunzionedaChiamare %>">Salva</button ></td></tr> -->
  </table>
  <a href="/prenotazione/<%-  id  %>/mod">Modifica Prenotazione...</a>


</body></html>